{"ast":null,"code":"!function (t, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(n) : (t = t || self).ULIFrameProvider = n();\n}(this, function () {\n  \"use strict\";\n\n  var t = function () {\n    return (t = Object.assign || function (t) {\n      for (var n, e = 1, r = arguments.length; e < r; e++) for (var o in n = arguments[e]) Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o]);\n\n      return t;\n    }).apply(this, arguments);\n  };\n\n  function n(t, n, e, r) {\n    return new (e || (e = Promise))(function (o, i) {\n      function s(t) {\n        try {\n          u(r.next(t));\n        } catch (t) {\n          i(t);\n        }\n      }\n\n      function a(t) {\n        try {\n          u(r.throw(t));\n        } catch (t) {\n          i(t);\n        }\n      }\n\n      function u(t) {\n        t.done ? o(t.value) : new e(function (n) {\n          n(t.value);\n        }).then(s, a);\n      }\n\n      u((r = r.apply(t, n || [])).next());\n    });\n  }\n\n  function e(t, n) {\n    var e,\n        r,\n        o,\n        i,\n        s = {\n      label: 0,\n      sent: function () {\n        if (1 & o[0]) throw o[1];\n        return o[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return i = {\n      next: a(0),\n      throw: a(1),\n      return: a(2)\n    }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n      return this;\n    }), i;\n\n    function a(i) {\n      return function (a) {\n        return function (i) {\n          if (e) throw new TypeError(\"Generator is already executing.\");\n\n          for (; s;) try {\n            if (e = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;\n\n            switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {\n              case 0:\n              case 1:\n                o = i;\n                break;\n\n              case 4:\n                return s.label++, {\n                  value: i[1],\n                  done: !1\n                };\n\n              case 5:\n                s.label++, r = i[1], i = [0];\n                continue;\n\n              case 7:\n                i = s.ops.pop(), s.trys.pop();\n                continue;\n\n              default:\n                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) {\n                  s = 0;\n                  continue;\n                }\n\n                if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {\n                  s.label = i[1];\n                  break;\n                }\n\n                if (6 === i[0] && s.label < o[1]) {\n                  s.label = o[1], o = i;\n                  break;\n                }\n\n                if (o && s.label < o[2]) {\n                  s.label = o[2], s.ops.push(i);\n                  break;\n                }\n\n                o[2] && s.ops.pop(), s.trys.pop();\n                continue;\n            }\n\n            i = n.call(t, s);\n          } catch (t) {\n            i = [6, t], r = 0;\n          } finally {\n            e = o = 0;\n          }\n\n          if (5 & i[0]) throw i[1];\n          return {\n            value: i[0] ? i[1] : void 0,\n            done: !0\n          };\n        }([i, a]);\n      };\n    }\n  }\n\n  var r,\n      o = {\n    error: function (t) {\n      return {\n        error: t\n      };\n    },\n    ok: function (t) {\n      return {\n        ok: t\n      };\n    },\n    isError: function (t) {\n      return Object.hasOwnProperty.call(t, \"error\");\n    },\n    isOk: function (t) {\n      return Object.hasOwnProperty.call(t, \"ok\");\n    }\n  },\n      i = function (t) {\n    return function (n, e) {\n      return n === t ? o.ok(t) : o.error([{\n        path: e,\n        expected: \"exactly \" + JSON.stringify(t)\n      }]);\n    };\n  },\n      s = /^-?\\d*(\\.\\d+)?$/,\n      a = function (t, n) {\n    return function (t) {\n      return \"number\" == typeof t && !isNaN(t);\n    }(t) ? o.ok(t) : function (t) {\n      return \"string\" == typeof t && \"\" !== t && s.test(t);\n    }(t) ? o.ok(+t) : o.error([{\n      path: n,\n      expected: \"number\"\n    }]);\n  },\n      u = function (t) {\n    return function (n, e) {\n      if (\"object\" != typeof n || null === n) return o.error([{\n        path: e,\n        expected: \"object\"\n      }]);\n      var r = {},\n          i = [];\n\n      for (var s in t) if (Object.hasOwnProperty.call(t, s)) {\n        var a = t[s](n[s], e + \".\" + s);\n        o.isOk(a) ? r[s] = a.ok : i.push.apply(i, a.error);\n      }\n\n      return i.length > 0 ? o.error(i) : o.ok(r);\n    };\n  },\n      c = function (t) {\n    return function (n, e) {\n      return null == n ? o.ok(void 0) : t(n, e);\n    };\n  },\n      f = (r = function (t, n) {\n    return (r = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (t, n) {\n      t.__proto__ = n;\n    } || function (t, n) {\n      for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]);\n    })(t, n);\n  }, function (t, n) {\n    function e() {\n      this.constructor = t;\n    }\n\n    r(t, n), t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype, new e());\n  });\n\n  !function (t) {\n    function n(e, r) {\n      var o = t.call(this, r || \"Cannot cast\") || this;\n      return o.errors = e, Object.setPrototypeOf(o, n.prototype), o;\n    }\n\n    f(n, t);\n  }(TypeError);\n\n  var l,\n      p,\n      d = function () {\n    function t(t, n) {\n      this.sendMessage = t, this.handler = n, this.nextId = 0, this.callbacks = {};\n    }\n\n    return t.prototype.handleMessage = function (t) {\n      var n = function (t, n, e) {\n        var r = n(t, \"\");\n        return o.isOk(r) ? r.ok : e;\n      }(t, h, void 0);\n\n      n && this.handleRpc(n);\n    }, t.prototype.send = function (t, n) {\n      var e = this.getId();\n      this.callbacks[e] = n, this.sendRpc({\n        protocolId: \"UNIVERSAL_LOGIN\",\n        id: e,\n        isRequest: !0,\n        payload: t\n      });\n    }, t.prototype.getId = function () {\n      return this.nextId++;\n    }, t.prototype.handleRpc = function (t) {\n      t.isRequest ? this.handleRequest(t) : this.handleResponse(t);\n    }, t.prototype.handleResponse = function (t) {\n      var n,\n          e,\n          r = this.callbacks[t.id];\n      delete this.callbacks[t.id], void 0 !== t.error ? null === (n = r) || void 0 === n || n(t.error, void 0) : null === (e = r) || void 0 === e || e(null, t.response);\n    }, t.prototype.handleRequest = function (t) {\n      this.handler(t.payload, this.getCallbackHandler(t.id));\n    }, t.prototype.getCallbackHandler = function (t) {\n      var n = this;\n      return function (e, r) {\n        e ? n.sendRpc({\n          protocolId: \"UNIVERSAL_LOGIN\",\n          id: t,\n          isRequest: !1,\n          error: e\n        }) : n.sendRpc({\n          protocolId: \"UNIVERSAL_LOGIN\",\n          id: t,\n          isRequest: !1,\n          response: r\n        });\n      };\n    }, t.prototype.sendRpc = function (t) {\n      this.sendMessage(t);\n    }, t;\n  }(),\n      h = (l = [u({\n    protocolId: i(\"UNIVERSAL_LOGIN\"),\n    id: a,\n    isRequest: i(!0),\n    payload: o.ok\n  }), u({\n    protocolId: i(\"UNIVERSAL_LOGIN\"),\n    id: a,\n    isRequest: i(!1),\n    error: c(o.ok),\n    response: c(o.ok)\n  })], p = \"RpcMessage\", function (t, n) {\n    if (0 === l.length) return o.ok(t);\n\n    for (var e = 0, r = l; e < r.length; e++) {\n      var i = (0, r[e])(t, n);\n      if (o.isOk(i)) return i;\n    }\n\n    return o.error([{\n      path: n,\n      expected: p\n    }]);\n  }),\n      y = {\n    backendUrl: \"https://universal-provider-backend.netlify.com\",\n    logoUrl: \"https://universalloginsdk.readthedocs.io/en/latest/_images/logo.png\",\n    ulButtonId: \"unilogin-button\",\n    disabledDialogs: []\n  };\n\n  function b() {\n    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];\n\n    return function (n) {\n      return t.reduce(function (t, n) {\n        return n(t);\n      }, n);\n    };\n  }\n\n  var v = function () {\n    function t() {}\n\n    return t.prototype.pipe = function () {\n      for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];\n\n      return b.apply(void 0, t)(this);\n    }, t;\n  }(),\n      g = function () {\n    var t = function (n, e) {\n      return (t = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, n) {\n        t.__proto__ = n;\n      } || function (t, n) {\n        for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]);\n      })(n, e);\n    };\n\n    return function (n, e) {\n      function r() {\n        this.constructor = n;\n      }\n\n      t(n, e), n.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());\n    };\n  }(),\n      _ = function (t) {\n    function n(n) {\n      var e = t.call(this) || this;\n      return e.subscribers = new Set(), e.value = n, e;\n    }\n\n    return g(n, t), n.prototype.get = function () {\n      return this.value;\n    }, n.prototype.set = function (t) {\n      this.value = t, this.subscribers.forEach(function (t) {\n        return t();\n      });\n    }, n.prototype.subscribe = function (t) {\n      var n = this;\n      return this.subscribers.add(t), function () {\n        return n.subscribers.delete(t);\n      };\n    }, n;\n  }(v);\n\n  (function () {\n    var t = function (n, e) {\n      return (t = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, n) {\n        t.__proto__ = n;\n      } || function (t, n) {\n        for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]);\n      })(n, e);\n    };\n  })(), function () {\n    var t = function (n, e) {\n      return (t = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, n) {\n        t.__proto__ = n;\n      } || function (t, n) {\n        for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]);\n      })(n, e);\n    };\n  }();\n  (function () {\n    var t = function (n, e) {\n      return (t = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, n) {\n        t.__proto__ = n;\n      } || function (t, n) {\n        for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]);\n      })(n, e);\n    };\n  })(), function () {\n    var t = function (n, e) {\n      return (t = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, n) {\n        t.__proto__ = n;\n      } || function (t, n) {\n        for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]);\n      })(n, e);\n    };\n  }(), function () {\n    var t = function (n, e) {\n      return (t = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, n) {\n        t.__proto__ = n;\n      } || function (t, n) {\n        for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]);\n      })(n, e);\n    };\n  }();\n\n  var m = function () {\n    var t = window.innerWidth,\n        n = window.innerHeight;\n    return t <= 512 || n <= 512 ? \"phone\" : t <= 1024 ? \"tablet\" : \"laptop\";\n  },\n      w = function () {\n    var t = k();\n    if (!t) return null;\n    var n = document.URL.split(\"#\")[0];\n    return \"/\" === n[n.length - 1] && \"/\" === t[0] ? n.slice(0, -1) + t : n + t;\n  },\n      k = function () {\n    for (var t = document.getElementsByTagName(\"link\"), n = 0; n < t.length; n++) if (\"icon\" === t[n].getAttribute(\"rel\") || \"shortcut icon\" === t[n].getAttribute(\"rel\")) return t[n].getAttribute(\"href\");\n  };\n\n  function O(t, n, e, r, o) {\n    return t + \"?\" + function (t) {\n      return Object.entries(t).map(function (t) {\n        var n,\n            e,\n            r = function (t, n) {\n          var e = \"function\" == typeof Symbol && t[Symbol.iterator];\n          if (!e) return t;\n          var r,\n              o,\n              i = e.call(t),\n              s = [];\n\n          try {\n            for (; (void 0 === n || n-- > 0) && !(r = i.next()).done;) s.push(r.value);\n          } catch (t) {\n            o = {\n              error: t\n            };\n          } finally {\n            try {\n              r && !r.done && (e = i.return) && e.call(i);\n            } finally {\n              if (o) throw o.error;\n            }\n          }\n\n          return s;\n        }(t, 2),\n            o = r[0],\n            i = r[1];\n\n        return encodeURIComponent(o) + \"=\" + encodeURIComponent(null != (e = null === (n = i) || void 0 === n ? void 0 : n.toString()) ? e : \"\");\n      }).join(\"&\");\n    }({\n      picker: n,\n      network: o,\n      sdkConfig: JSON.stringify(e),\n      disabledDialogs: r\n    });\n  }\n\n  return function () {\n    function r(n) {\n      var e = this;\n      this.config = n, this.isReady = new _(!1), this.hasNotifications = !1, this.isUniLogin = !0, this.boundOpenDashboard = this.openDashboard.bind(this), this.getNotificationsIndicator = function () {\n        return document.getElementById(e.config.ulButtonId + \"-notifications\");\n      };\n      var r,\n          o,\n          i = t({\n        applicationInfo: {\n          applicationName: document.title,\n          logo: w() || \"none\",\n          type: m()\n        }\n      }, n.sdkConfig);\n      this.iframe = (r = O(n.backendUrl, n.enablePicker, i, n.disabledDialogs, n.network), o = document.createElement(\"iframe\"), Object.assign(o.style, {\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        left: \"0\",\n        top: \"0\",\n        background: \"none transparent\",\n        border: \"none\",\n        display: \"none\",\n        \"z-index\": \"100000\"\n      }), o.setAttribute(\"src\", r), document.getElementsByTagName(\"body\")[0].appendChild(o), o), this.bridge = new d(function (t) {\n        return e.iframe.contentWindow.postMessage(t, \"*\");\n      }, this.handleRpc.bind(this)), window.addEventListener(\"message\", function (t) {\n        return e.bridge.handleMessage(t.data);\n      }), this.observeDomForUlButtons();\n    }\n\n    return r.prototype.observeDomForUlButtons = function () {\n      var t = this;\n      new MutationObserver(function (n) {\n        var e, r;\n\n        try {\n          for (var o = function (t) {\n            var n = \"function\" == typeof Symbol && t[Symbol.iterator],\n                e = 0;\n            return n ? n.call(t) : {\n              next: function () {\n                return t && e >= t.length && (t = void 0), {\n                  value: t && t[e++],\n                  done: !t\n                };\n              }\n            };\n          }(n), i = o.next(); !i.done; i = o.next()) {\n            var s = i.value;\n            s.target instanceof Element && s.target.querySelectorAll(\"button#\" + t.config.ulButtonId).forEach(function (n) {\n              n instanceof HTMLButtonElement && t.initUlButton(n);\n            });\n          }\n        } catch (t) {\n          e = {\n            error: t\n          };\n        } finally {\n          try {\n            i && !i.done && (r = o.return) && r.call(o);\n          } finally {\n            if (e) throw e.error;\n          }\n        }\n      }).observe(document.body, {\n        childList: !0,\n        subtree: !0\n      });\n    }, r.prototype.handleRpc = function (t, n) {\n      switch (t.method) {\n        case \"ul_set_iframe_visibility\":\n          this.setIframeVisibility(t.params[0]);\n          break;\n\n        case \"ul_ready\":\n          this.isReady.set(!0);\n          break;\n\n        case \"ul_set_notification_indicator\":\n          this.hasNotifications = t.params[0], this.setNotificationsIndicatorVisibility(this.hasNotifications);\n          break;\n\n        default:\n          this.sendUpstream(t, n);\n      }\n    }, r.prototype.setNotificationsIndicatorVisibility = function (t) {\n      var n = this.getNotificationsIndicator();\n      n && (n.style.display = t ? \"block\" : \"none\");\n    }, r.prototype.sendUpstream = function (t, n) {\n      var e = this.config.upstream;\n      if (!e) throw new TypeError();\n      e.sendAsync ? e.sendAsync(t, n) : e.send(t, n);\n    }, r.prototype.setIframeVisibility = function (t) {\n      this.iframe.style.display = t ? \"unset\" : \"none\";\n    }, r.getInstance = function (t) {\n      return r.instance || (r.instance = new r(t)), r.instance;\n    }, r.create = function (n, e, o) {\n      return r.getInstance(t(t({\n        enablePicker: !1,\n        network: n.toString(),\n        sdkConfig: e\n      }, y), o));\n    }, r.createPicker = function (n, e, o) {\n      return r.getInstance(t(t(t(t({\n        enablePicker: !0\n      }, function (t) {\n        if (void 0 === t) throw new Error(\"Either a provider or a network name must be passed as a first argument\");\n        return \"string\" == typeof t ? {\n          network: t.toString()\n        } : {\n          upstream: t\n        };\n      }(n)), {\n        sdkConfig: e\n      }), y), o));\n    }, r.prototype.promisifyJsonRpcRequest = function (t) {\n      return n(this, void 0, void 0, function () {\n        var n = this;\n        return e(this, function (e) {\n          return [2, new Promise(function (e, r) {\n            return n.send(t, function (t, n) {\n              return t ? r(t) : e(n);\n            });\n          })];\n        });\n      });\n    }, r.prototype.handleBatchRequest = function (t, r) {\n      return n(this, void 0, void 0, function () {\n        var n,\n            o,\n            i = this;\n        return e(this, function (e) {\n          switch (e.label) {\n            case 0:\n              return e.trys.push([0, 2,, 3]), [4, Promise.all(t.map(function (t) {\n                return i.promisifyJsonRpcRequest(t);\n              }))];\n\n            case 1:\n              return n = e.sent(), r(void 0, n), [3, 3];\n\n            case 2:\n              return o = e.sent(), r(o, void 0), [3, 3];\n\n            case 3:\n              return [2];\n          }\n        });\n      });\n    }, r.prototype.send = function (t, r) {\n      return n(this, void 0, void 0, function () {\n        return e(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, this.waitUntilReady()];\n\n            case 1:\n              return n.sent(), Array.isArray(t) ? this.handleBatchRequest(t, r) : this.bridge.send(t, r), [2];\n          }\n        });\n      });\n    }, r.prototype.sendAsync = function (t, r) {\n      return n(this, void 0, void 0, function () {\n        return e(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, this.send(t, r)];\n\n            case 1:\n              return n.sent(), [2];\n          }\n        });\n      });\n    }, r.prototype.enable = function () {\n      return n(this, void 0, void 0, function () {\n        var t, n, r;\n        return e(this, function (e) {\n          switch (e.label) {\n            case 0:\n              return [4, this.promisifyJsonRpcRequest({\n                id: 1,\n                jsonRpc: \"2.0\",\n                method: \"eth_requestAccounts\"\n              })];\n\n            case 1:\n              return t = e.sent(), n = t.result, (r = t.error) ? [2, Promise.reject(r)] : [2, Promise.resolve(n)];\n          }\n        });\n      });\n    }, r.prototype.setDashboardVisibility = function (t) {\n      this.send({\n        method: \"ul_set_dashboard_visibility\",\n        params: [t]\n      }, function () {});\n    }, r.prototype.openDashboard = function () {\n      this.setDashboardVisibility(!0);\n    }, r.prototype.closeDashboard = function () {\n      this.setDashboardVisibility(!1);\n    }, r.prototype.waitUntilReady = function () {\n      return this.isReady.pipe((t = Boolean, function (n) {\n        return new Promise(function (e) {\n          return n.pipe((r = function (n) {\n            t(n) && e(n);\n          }, function (t) {\n            return r(t.get()), t.subscribe(function () {\n              return r(t.get());\n            });\n          }));\n          var r;\n        });\n      }));\n      var t;\n    }, r.prototype.initUlButton = function (t) {\n      Object.assign(t.style, {\n        display: \"inline-block\",\n        background: \"none\",\n        border: \"none\",\n        cursor: \"pointer\",\n        position: \"relative\",\n        width: \"60px\",\n        height: \"60px\",\n        marginRight: \"15px\",\n        padding: \"0\"\n      }), t.innerHTML = '\\n      <img style=\"width: 100%; height: 100%;\" src=\"' + this.config.logoUrl + '\" alt=\"U\" >\\n      <div id=\"' + this.config.ulButtonId + '-notifications\"></div>\\n    ', Object.assign(this.getNotificationsIndicator().style, {\n        display: this.hasNotifications ? \"block\" : \"none\",\n        position: \"absolute\",\n        top: \"0px\",\n        right: \"-11px\",\n        width: \"15px\",\n        height: \"15px\",\n        background: \"#0FB989\",\n        \"box-shadow\": \"0px 5px 4px rgba(0, 0, 0, 0.14516)\",\n        \"border-radius\": \"50%\"\n      }), t.addEventListener(\"click\", this.boundOpenDashboard);\n    }, r;\n  }();\n});","map":{"version":3,"sources":["/home/ryann/Documents/Repos/ChainSafe/chainbridge-ui/node_modules/@unilogin/provider/dist/umd/index.js"],"names":["t","n","exports","module","define","amd","self","ULIFrameProvider","Object","assign","e","r","arguments","length","o","prototype","hasOwnProperty","call","apply","Promise","i","s","u","next","a","throw","done","value","then","label","sent","trys","ops","return","Symbol","iterator","TypeError","pop","push","error","ok","isError","isOk","path","expected","JSON","stringify","isNaN","test","c","f","setPrototypeOf","__proto__","Array","constructor","create","errors","l","p","d","sendMessage","handler","nextId","callbacks","handleMessage","h","handleRpc","send","getId","sendRpc","protocolId","id","isRequest","payload","handleRequest","handleResponse","response","getCallbackHandler","y","backendUrl","logoUrl","ulButtonId","disabledDialogs","b","reduce","v","pipe","g","_","subscribers","Set","get","set","forEach","subscribe","add","delete","m","window","innerWidth","innerHeight","w","k","document","URL","split","slice","getElementsByTagName","getAttribute","O","entries","map","encodeURIComponent","toString","join","picker","network","sdkConfig","config","isReady","hasNotifications","isUniLogin","boundOpenDashboard","openDashboard","bind","getNotificationsIndicator","getElementById","applicationInfo","applicationName","title","logo","type","iframe","enablePicker","createElement","style","position","width","height","left","top","background","border","display","setAttribute","appendChild","bridge","contentWindow","postMessage","addEventListener","data","observeDomForUlButtons","MutationObserver","target","Element","querySelectorAll","HTMLButtonElement","initUlButton","observe","body","childList","subtree","method","setIframeVisibility","params","setNotificationsIndicatorVisibility","sendUpstream","upstream","sendAsync","getInstance","instance","createPicker","Error","promisifyJsonRpcRequest","handleBatchRequest","all","waitUntilReady","isArray","enable","jsonRpc","result","reject","resolve","setDashboardVisibility","closeDashboard","Boolean","cursor","marginRight","padding","innerHTML","right"],"mappings":"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","sourcesContent":["!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(t=t||self).ULIFrameProvider=n()}(this,(function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function n(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(s,a)}u((r=r.apply(t,n||[])).next())}))}function e(t,n){var e,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(t,s)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var r,o={error:function(t){return{error:t}},ok:function(t){return{ok:t}},isError:function(t){return Object.hasOwnProperty.call(t,\"error\")},isOk:function(t){return Object.hasOwnProperty.call(t,\"ok\")}},i=function(t){return function(n,e){return n===t?o.ok(t):o.error([{path:e,expected:\"exactly \"+JSON.stringify(t)}])}},s=/^-?\\d*(\\.\\d+)?$/,a=function(t,n){return function(t){return\"number\"==typeof t&&!isNaN(t)}(t)?o.ok(t):function(t){return\"string\"==typeof t&&\"\"!==t&&s.test(t)}(t)?o.ok(+t):o.error([{path:n,expected:\"number\"}])},u=function(t){return function(n,e){if(\"object\"!=typeof n||null===n)return o.error([{path:e,expected:\"object\"}]);var r={},i=[];for(var s in t)if(Object.hasOwnProperty.call(t,s)){var a=t[s](n[s],e+\".\"+s);o.isOk(a)?r[s]=a.ok:i.push.apply(i,a.error)}return i.length>0?o.error(i):o.ok(r)}},c=function(t){return function(n,e){return null==n?o.ok(void 0):t(n,e)}},f=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});!function(t){function n(e,r){var o=t.call(this,r||\"Cannot cast\")||this;return o.errors=e,Object.setPrototypeOf(o,n.prototype),o}f(n,t)}(TypeError);var l,p,d=function(){function t(t,n){this.sendMessage=t,this.handler=n,this.nextId=0,this.callbacks={}}return t.prototype.handleMessage=function(t){var n=function(t,n,e){var r=n(t,\"\");return o.isOk(r)?r.ok:e}(t,h,void 0);n&&this.handleRpc(n)},t.prototype.send=function(t,n){var e=this.getId();this.callbacks[e]=n,this.sendRpc({protocolId:\"UNIVERSAL_LOGIN\",id:e,isRequest:!0,payload:t})},t.prototype.getId=function(){return this.nextId++},t.prototype.handleRpc=function(t){t.isRequest?this.handleRequest(t):this.handleResponse(t)},t.prototype.handleResponse=function(t){var n,e,r=this.callbacks[t.id];delete this.callbacks[t.id],void 0!==t.error?null===(n=r)||void 0===n||n(t.error,void 0):null===(e=r)||void 0===e||e(null,t.response)},t.prototype.handleRequest=function(t){this.handler(t.payload,this.getCallbackHandler(t.id))},t.prototype.getCallbackHandler=function(t){var n=this;return function(e,r){e?n.sendRpc({protocolId:\"UNIVERSAL_LOGIN\",id:t,isRequest:!1,error:e}):n.sendRpc({protocolId:\"UNIVERSAL_LOGIN\",id:t,isRequest:!1,response:r})}},t.prototype.sendRpc=function(t){this.sendMessage(t)},t}(),h=(l=[u({protocolId:i(\"UNIVERSAL_LOGIN\"),id:a,isRequest:i(!0),payload:o.ok}),u({protocolId:i(\"UNIVERSAL_LOGIN\"),id:a,isRequest:i(!1),error:c(o.ok),response:c(o.ok)})],p=\"RpcMessage\",function(t,n){if(0===l.length)return o.ok(t);for(var e=0,r=l;e<r.length;e++){var i=(0,r[e])(t,n);if(o.isOk(i))return i}return o.error([{path:n,expected:p}])}),y={backendUrl:\"https://universal-provider-backend.netlify.com\",logoUrl:\"https://universalloginsdk.readthedocs.io/en/latest/_images/logo.png\",ulButtonId:\"unilogin-button\",disabledDialogs:[]};function b(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return t.reduce((function(t,n){return n(t)}),n)}}var v=function(){function t(){}return t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return b.apply(void 0,t)(this)},t}(),g=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_=function(t){function n(n){var e=t.call(this)||this;return e.subscribers=new Set,e.value=n,e}return g(n,t),n.prototype.get=function(){return this.value},n.prototype.set=function(t){this.value=t,this.subscribers.forEach((function(t){return t()}))},n.prototype.subscribe=function(t){var n=this;return this.subscribers.add(t),function(){return n.subscribers.delete(t)}},n}(v);(function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}})(),function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}}();(function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}})(),function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}}(),function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}}();var m=function(){var t=window.innerWidth,n=window.innerHeight;return t<=512||n<=512?\"phone\":t<=1024?\"tablet\":\"laptop\"},w=function(){var t=k();if(!t)return null;var n=document.URL.split(\"#\")[0];return\"/\"===n[n.length-1]&&\"/\"===t[0]?n.slice(0,-1)+t:n+t},k=function(){for(var t=document.getElementsByTagName(\"link\"),n=0;n<t.length;n++)if(\"icon\"===t[n].getAttribute(\"rel\")||\"shortcut icon\"===t[n].getAttribute(\"rel\"))return t[n].getAttribute(\"href\")};function O(t,n,e,r,o){return t+\"?\"+function(t){return Object.entries(t).map((function(t){var n,e,r=function(t,n){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return s}(t,2),o=r[0],i=r[1];return encodeURIComponent(o)+\"=\"+encodeURIComponent(null!=(e=null===(n=i)||void 0===n?void 0:n.toString())?e:\"\")})).join(\"&\")}({picker:n,network:o,sdkConfig:JSON.stringify(e),disabledDialogs:r})}return function(){function r(n){var e=this;this.config=n,this.isReady=new _(!1),this.hasNotifications=!1,this.isUniLogin=!0,this.boundOpenDashboard=this.openDashboard.bind(this),this.getNotificationsIndicator=function(){return document.getElementById(e.config.ulButtonId+\"-notifications\")};var r,o,i=t({applicationInfo:{applicationName:document.title,logo:w()||\"none\",type:m()}},n.sdkConfig);this.iframe=(r=O(n.backendUrl,n.enablePicker,i,n.disabledDialogs,n.network),o=document.createElement(\"iframe\"),Object.assign(o.style,{position:\"fixed\",width:\"100%\",height:\"100%\",left:\"0\",top:\"0\",background:\"none transparent\",border:\"none\",display:\"none\",\"z-index\":\"100000\"}),o.setAttribute(\"src\",r),document.getElementsByTagName(\"body\")[0].appendChild(o),o),this.bridge=new d((function(t){return e.iframe.contentWindow.postMessage(t,\"*\")}),this.handleRpc.bind(this)),window.addEventListener(\"message\",(function(t){return e.bridge.handleMessage(t.data)})),this.observeDomForUlButtons()}return r.prototype.observeDomForUlButtons=function(){var t=this;new MutationObserver((function(n){var e,r;try{for(var o=function(t){var n=\"function\"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}(n),i=o.next();!i.done;i=o.next()){var s=i.value;s.target instanceof Element&&s.target.querySelectorAll(\"button#\"+t.config.ulButtonId).forEach((function(n){n instanceof HTMLButtonElement&&t.initUlButton(n)}))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}})).observe(document.body,{childList:!0,subtree:!0})},r.prototype.handleRpc=function(t,n){switch(t.method){case\"ul_set_iframe_visibility\":this.setIframeVisibility(t.params[0]);break;case\"ul_ready\":this.isReady.set(!0);break;case\"ul_set_notification_indicator\":this.hasNotifications=t.params[0],this.setNotificationsIndicatorVisibility(this.hasNotifications);break;default:this.sendUpstream(t,n)}},r.prototype.setNotificationsIndicatorVisibility=function(t){var n=this.getNotificationsIndicator();n&&(n.style.display=t?\"block\":\"none\")},r.prototype.sendUpstream=function(t,n){var e=this.config.upstream;if(!e)throw new TypeError;e.sendAsync?e.sendAsync(t,n):e.send(t,n)},r.prototype.setIframeVisibility=function(t){this.iframe.style.display=t?\"unset\":\"none\"},r.getInstance=function(t){return r.instance||(r.instance=new r(t)),r.instance},r.create=function(n,e,o){return r.getInstance(t(t({enablePicker:!1,network:n.toString(),sdkConfig:e},y),o))},r.createPicker=function(n,e,o){return r.getInstance(t(t(t(t({enablePicker:!0},function(t){if(void 0===t)throw new Error(\"Either a provider or a network name must be passed as a first argument\");return\"string\"==typeof t?{network:t.toString()}:{upstream:t}}(n)),{sdkConfig:e}),y),o))},r.prototype.promisifyJsonRpcRequest=function(t){return n(this,void 0,void 0,(function(){var n=this;return e(this,(function(e){return[2,new Promise((function(e,r){return n.send(t,(function(t,n){return t?r(t):e(n)}))}))]}))}))},r.prototype.handleBatchRequest=function(t,r){return n(this,void 0,void 0,(function(){var n,o,i=this;return e(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return i.promisifyJsonRpcRequest(t)})))];case 1:return n=e.sent(),r(void 0,n),[3,3];case 2:return o=e.sent(),r(o,void 0),[3,3];case 3:return[2]}}))}))},r.prototype.send=function(t,r){return n(this,void 0,void 0,(function(){return e(this,(function(n){switch(n.label){case 0:return[4,this.waitUntilReady()];case 1:return n.sent(),Array.isArray(t)?this.handleBatchRequest(t,r):this.bridge.send(t,r),[2]}}))}))},r.prototype.sendAsync=function(t,r){return n(this,void 0,void 0,(function(){return e(this,(function(n){switch(n.label){case 0:return[4,this.send(t,r)];case 1:return n.sent(),[2]}}))}))},r.prototype.enable=function(){return n(this,void 0,void 0,(function(){var t,n,r;return e(this,(function(e){switch(e.label){case 0:return[4,this.promisifyJsonRpcRequest({id:1,jsonRpc:\"2.0\",method:\"eth_requestAccounts\"})];case 1:return t=e.sent(),n=t.result,(r=t.error)?[2,Promise.reject(r)]:[2,Promise.resolve(n)]}}))}))},r.prototype.setDashboardVisibility=function(t){this.send({method:\"ul_set_dashboard_visibility\",params:[t]},(function(){}))},r.prototype.openDashboard=function(){this.setDashboardVisibility(!0)},r.prototype.closeDashboard=function(){this.setDashboardVisibility(!1)},r.prototype.waitUntilReady=function(){return this.isReady.pipe((t=Boolean,function(n){return new Promise((function(e){return n.pipe((r=function(n){t(n)&&e(n)},function(t){return r(t.get()),t.subscribe((function(){return r(t.get())}))}));var r}))}));var t},r.prototype.initUlButton=function(t){Object.assign(t.style,{display:\"inline-block\",background:\"none\",border:\"none\",cursor:\"pointer\",position:\"relative\",width:\"60px\",height:\"60px\",marginRight:\"15px\",padding:\"0\"}),t.innerHTML='\\n      <img style=\"width: 100%; height: 100%;\" src=\"'+this.config.logoUrl+'\" alt=\"U\" >\\n      <div id=\"'+this.config.ulButtonId+'-notifications\"></div>\\n    ',Object.assign(this.getNotificationsIndicator().style,{display:this.hasNotifications?\"block\":\"none\",position:\"absolute\",top:\"0px\",right:\"-11px\",width:\"15px\",height:\"15px\",background:\"#0FB989\",\"box-shadow\":\"0px 5px 4px rgba(0, 0, 0, 0.14516)\",\"border-radius\":\"50%\"}),t.addEventListener(\"click\",this.boundOpenDashboard)},r}()}));\n"]},"metadata":{},"sourceType":"script"}